counter: make object! [
    state: 1
    receive: func [value] [
        state: + (or state 0) value
        print "counter"
        print state
    ]
]

print "Daemon running. Press Ctrl+C to stop."

; Simple event loop
forever [
    counter/receive 123
    print "hi"
    wait 1
]